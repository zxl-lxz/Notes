DNS 基于 TCP 或者 UDP 协议，具体采用哪一个根据情况来定

DNS 解析的时候，依赖 4 个字段来决定返回什么

1. name
2. value
3. type
4. TTL

其中，name 和 value 是一对键值对，但是其具体含义取决于 type.ttl 表示当前这个值的缓存失效时期。

type 主要有三种

1. A 值。表示域名和 IP 的映射。将域名和 name 字段进行匹配，并返回 value 作为 ip 地址。
2. NS （name server）.表示域名和负责解析该域名的 DNS 的映射。返回下一个 DNS 解析地址。
3. CNAME.别名。其记录了该域名的别名。并且还包含了这个别名的 A 值。

CDN

一步步的 DNS 解析完毕后，最终会通过 CNAME 返回一个 GLSB（全局均衡负载系统） 的 IP 地址。客户端向这个系统请求，这个系统会根据客户端所在的地理位置，返回一个 本地均衡负载系统 的 IP 地址。客户端又向本地均衡负载系统发起 HTTP 请求，系统会根据各个服务器的负载情况等返回一个最合适的 IP。并返回 302 状态吗，重定向到这个 IP。
